unit unRELIMO;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, ppProd, ppClass, ppReport, ppComm,
  ppRelatv, ppDB, ppDBPipe, ppDBBDE, Vcl.StdCtrls, ppVar, ppPrnabl, ppCtrls,
  ppBands, ppCache, ppDesignLayer, ppParameter, Vcl.ExtCtrls;

type
  TfrmRELIMO = class(TForm)
    Button1: TButton;
    Button2: TButton;
    ppBDEPipeline1: TppBDEPipeline;
    ppReport1: TppReport;
    RadioGroup1: TRadioGroup;
    ppReport2: TppReport;
    ppParameterList1: TppParameterList;
    ppDesignLayers1: TppDesignLayers;
    ppParameterList2: TppParameterList;
    ppDesignLayers2: TppDesignLayers;
    ppDesignLayer2: TppDesignLayer;
    ppHeaderBand1: TppHeaderBand;
    ppDetailBand1: TppDetailBand;
    ppFooterBand1: TppFooterBand;
    ppLabel1: TppLabel;
    ppSystemVariable1: TppSystemVariable;
    ppLabel2: TppLabel;
    ppLabel3: TppLabel;
    ppLabel4: TppLabel;
    ppDBText1: TppDBText;
    ppDBText2: TppDBText;
    ppLine1: TppLine;
    procedure Button1Click(Sender: TObject);
    procedure Button2Click(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  frmRELIMO: TfrmRELIMO;

implementation

{$R *.dfm}

uses unDM;

procedure TfrmRELIMO.Button1Click(Sender: TObject);
begin
    DM.cdsCONSULTA.Close;
    DM.cdsCONSULTA.CommandText := 'select * from imovel';
    DM.cdsCONSULTA.Open;
    if not DM.cdsCONSULTA.IsEmpty then
    begin
      if RadioGroup1.ItemIndex = 1 then
         ppReport1.Print
      else
         ppReport2.Print;
    end
    else
      showmessage('Nenhum imóvel encontrado!');
end;

procedure TfrmRELIMO.Button2Click(Sender: TObject);
begin
       Close;
end;

end.
